https://docs.google.com/document/d/1x__iCjU89ZQRa_pJ3f2PIsYJkGokj4Yy7u6UlJVptp8

Частичный перевод. Не отформатировано!

# Друг: Диалектический Рефлексивный Универсальный Группировщик
Pavel Artamonov
Last of the Soviets
Август 27, 2023
## Abstract
В статье вы познакомитесь с методом кластеризации основанным на философии диалектического материализма. Данные саморазовьются во вложенные структуры разных плотностей, что также позволяет ловить глобальные выбросы. Друг не требует параметров, что делает его основным инструментом первичного анализа данных.
Работа погрузит читателя в мир диалектики и предложит формализацию диалектического метода. В отличии от идеалистических гегелевских триад отражающихся от Абсолютного Духа, за основу берутся материалистические противоположности отражений Бытия от другого Бытия.
## Introduction
Кластеризацией обычно называют попытку группировки данных с точки зрения человеческой интуиции. К сожалению, наша интуиция плохо определена и очень контекстно обусловлена.
Некоторые считают, что кластеры это человеческий конструкт – Я буду кластеризовать, как мне хочется. Другие могут возразить - кластера объективны, давай Я выберу тебе k кластеров по этому правилу k-means (xi-ai)2. С виду различные точки зрения на деле оказываются идентичными, в обоих случаях приоритезируется наблюдатель, приоритезируется Идея, а не Материя. Существовали ли кластеры, до того как на них взглянул специалист по данным?
Многие научные сферы приоритезируют наблюдателся. Методы кластеризации не являются исключением в этом. Параметрические модели применяются к данным. Модель двигает выводы. И в какой то момент, Модель начинает жить своей жизнью. Изменившиеся данные не соответствующие модели, становятся проблемами данных. Модель-надстройка правит балом.
Чтобы вылечиться от этой детской болезни, нужно найти независимую от наблюдателя реальность. Реальность и должна стать моделью. Данные должны быть двигателем кластеров. Метод позволяющий такое был продемонстрирован в работах Гегеля, Бытие постепенно стало Сущностью. В настоящей работе, точки данных разовьются в кластеры, а Гегель опять будет поставлен с головы на ноги.
Друга можно отнести к семье плотностных алгоритмов, но без прямого указания плотности. Стандартный плотностный алгоритм DBSCAN сканирует точки на наличие заданной плотности (-радиус и k-количество точек) и определят кластера, которые плотнее, чем ввод. Второе поколение плотностных алгоритмов HDBSCAN выбрасывает параметр -радиус, и оставляет параметр k-точек, что позволяет проще манипулировать данными. Работа учёного-наблюдателя состоит в правильном подборе параметров. Нужно ещё раз подчеркнуть - Кластеры уже существуют, наблюдатель пытается их найти, а не представить в голове! 
Можно сказать, что Друг это третье поколение избавления DBSCAN от параметров. Друг практически детерминистичен, не зависит от масштаба, и не требует параметров. На выходе получаются вложенные кластера разных “плотностей”. Дальнейшее повествование окунёт в философские глубины диалектики, подкрепляя математическими выкладками с иллюстрациями и формулами. Всё это можно пропустить и посмотреть код в Приложении \ref{Pseudocode}.
## Диалектическое расстояние 
Matter is a philosophical category denoting the objective reality which is given to us by our sensations, and which is copied, photographed and reflected by our sensations, while existing independently of them.
V. Lenin, Materialism and Empiriocriticism
Материя движется и меняет свои формы, она не пропадёт из-за открытия новых веществ. Более того, материя может быть не физической. Социальная, биологическая, механическая, химическая, физическая - такие типы материи бывают по Энгельсу. Мы добавим ещё и информационный тип в этот список.
Современный мир насыщен таблицами с данными. Одна таблица обычно содержит строки с однопорядковыми данными. Такие данные и метрика для сравнения, могут быть рассмотрены как бытия в пространстве. Бытие и пространство это философские категории, такие понятия, которые отражают самые основные свойства и отношения в мире. Развитие этих категорий приведёт к универсальным законам, которые можно будет применять в том числе и к данным.
Чтобы дать вам почувствовать универсальность и сгладить погружения в диалектический материализм, мы представим вам понятие диалектического расстояния на примерах двух типов материи: социальной на знакомствах-отношениях и физической на квантовых экспериментах.
### Взаимность
Do unto others as you would have them do unto you.
Bible, Matthew 7:12
Испытывали ли вы безответные чувства к кому-то?
Как могло быть такое, что самый близкий для вас человек, не отвечал вам взаимностью?
Пытались ли вы разобраться, что чувствует другая сторона?
В голову залезть нам не удастся, но попробовать восстановить чужое отношение мы попробуем.
Для этого, мы поднимемся на категориальное мышление и заполним таблички данными.
Для вашей таблицы отношений всё просто: Вы, она, Вася, Ваня и попрошайка, с которым вы перекидываетесь словами по пути на работу.
Её лист ярок: Она, собачка, мама, Клава и Вы. Вы под номером пять.

Fig.1: The blue list has a red heart as 2nd. Dog is opposite to it. The pink list has a blue diamond as 5th the same rank as the pirate.

И тут приходит осознание.
Вы пятый в её списке, а в вашем списке пятый это попрошайка! Вам нужно относиться соответствующим образом! (не сочтите это за совет)
Она в свою очередь могла бы восстановить ваше к ней отношения, если бы чувства к вам умножила на 52 

### Квантовая “плотность”
Что первично сознание или материя?
Основной вопрос философии
Знаменитый эксперимент с пушкой, стреляющей частицами через две щели, рисует не две полосы, а целую зебру интерференции. Как будто пушка заряжена не частицей, а жидкостью, проходящей одновременно через обе щели. Частичка ведёт себя как волна(корпускулярно-волновой дуализм). Мы предложим разрешение этого противоречия, переведя фокус с наблюдателя, выбирающего наблюдаемый объект, на пространство.

В сфере А одна щель.

В сфере A’ две щели. 
Рис 2: Стена с двумя щелями и зелёный шарик. Сферы A и A` отличаются по “плотности”. Сферы B и B’ совпадают.

На рисунке представлены два случая, когда частичка (зелёный шарик) находится в разных положениях относительно щелей, но на одинаковом расстоянии от стены. Взяв пространство за центр, мы получим две пересекающиеся сферы. Рассмотрим "плотности" сфер в разных случаях. Правые сферы B и B` идентичны. Но сфера A содержит больше вещества, чем сфера А`. Центричность на пространстве будет учитывать эту разницу, и породит возможность сравнения этих случаев.

Рост D попал в нижнюю щель.
Рост D` за счёт верхней и нижней стенки вне сферы A’.
Рис2+. Зеленая площадь равна синей, т.е. площади A=D и A`=D`. При этом радиус D > D`. 

Расстояние d не подходит для измерения пространства между сторонами, так как оно не отражает разницы в количестве вещества. Чтобы найти диалектическое расстояние, учитывающее вещество обеих сторон, нужно увеличить радиус сферы B до уровня вещества в сфере А. То же самое проделать для сферы B` (Рис 2+). Диалектические расстояния и количеств вещества различаются, а значит и “силы” воздействующие на стороны тоже различны.
Предложенное взаимодействие не является целью настоящего исследования, и является всего лишь демонстрацией рассмотрения приоритета материи-пространства над сознанием-наблюдателем.
△
Эти примеры показали как диалектически разрешать зависимость от наблюдателя. Примеры разбирались аналитически, обнаруживались две противоположные стороны, производилось решение включающее обе стороны. Но откуда взять противоположности для анализа, если решается абстрактная задача в общем? Саморазвитие категорий породит свои противоположности. Частичка “не” позволит синтезировать следующий шаг процесса. Будет получаться, что всё новое, это основанное на старом, и для наблюдателя не останется места.

## Единичное и противоречия
Есть только один субъект – мир в его целом
Основа диалектического материализма
Пространство существует. Пространство это всё. Пространство одно.
Не пространство это ничто. Не всё это ничто. Ничтов много.
Не всё-ничто это дыры в пространстве, называемые точками. Точка сама по себе ничто. Только отношение к другим точкам вкладывает в неё смысл.
Отношение точки к другой точке есть направление, захватывающее и ограничивающее часть пространства. Такое отношение субъект-объект можно представить в виде пространства-сферы с центр-субъектом и радиус-направлением в объект. В пространство-сферу попадёт rs точек, это количественное свойство отношения. Не количественное, есть качественное свойство – это “радиус” расстояние от субъекта к объекту. Количество и качество неразрывны и вместе образуют количественно-качественные (далее к-к) свойства отношения субъекта s к объекту:
rs ds(rs)
Не субъект-объектное отношение это обратное отношение, т.е. объект-субъектное. С обратным направлением из объекта, но с сохранением центральности субъекта. Сфера-пространство количественно смещается в объект, но качественно остаётся в субъекте (см. Фиг 3). Обратное количество образуется внешним подсчётом, а качество функцией от этого количества. Субъект отражается в объект, получает искажённую картину действительности. Отношение объекта к субъекту s:

Fig 3: Субъект под номером 1. Объект под номером 3. В (левой)сфере из субъекта 3 точки, в (правой)сфере из объекта 5 точек. Новый обратный розовый 5-радиус больше, чем начальный синий 3-радиус.

Противоположности. Для субъекта s одно отношение к объекту составляет два противоположных выражения опосредованных пространством:

Таких отношений много для каждого субъекта и самих субъектов также много. Для дальнейшего движения множественность должна быть снята. Не множественность отношений есть особенное отношение, самое близкое. Для того чтобы найти такое отношение, нужно снять три момента: единичность, всеобщность и особенность. 

Мера. Мера очищает качество от количества и позволяет сравнивать противоположности. Математически это означает, что пары чисел будут приведены к одиночным значениям. Парность препятствует сравнению (нельзя ответить, что больше пара (2; 1,5) или пара (3;1)). Пары к-к нужно привести к одинарным качествам, для этого разделим обе стороны на количество точек из (правой) объектной части. Не количество-качество это меры отношений субъект-объекта

Тотальность. Наибольшее(всеобщее) из мер будет удовлетворять “плотностям” обеих сторон. 

Противоположности внутри отношения разрешены, но противостояния множественности остались.

Суждение. Второе отрицание множественности заключается в нахождении наименьшего(особенного) из всех отношений. Что производит абстрактное всеобщее

Первая фаза завершилась единством противоположностей. Точки ограничили пространство и произвели кусочек пространства. Пространство провернулось и сняло с себя точки, их субъектность и направленность. Наступает следующая фаза в которой мы познакомимся с общностями и становлением кластеров.

Перезапуск процесса. Как мы узнаем в дальнейшем, не точки отрезали пространство, а общности посредством точек. Поэтому при перезапуске процесса нахождения наименьшего отношения нужно учитывать принадлежность точек к общностям. В конечном итоге все точки соберутся в одну общность, которая может быть представлена остовным деревом.

Упорядоченность соединений. Процесс сортирует соединения, дружит одинаковые плотности, отдаляя присоединения выбросов. На примере Фиг 4, все точки равноудалены друг от друга, но тем не менее, вначале соединятся тело и рёбра, а вершины в самом конце. Для одинаковой “плотности”  расстояния примерно равны . Для областей с разными “плотностями” r != r и d(r) > d(r), что снижает очередность. Для выбросов r=2, приоритетность по остаточному принципу.

Fig 4: Значения рангов и расстояний в возрастающем порядке: равноплотные ядро и рёбра, потом ядро-рёбра, последними выбросы вершины.

## Диалектика отрицания
Борьба и единство противоположностей
Закон диалектики

Частичка “не” позволила развернуть внутренние противоречия пространства. Такое отрицание раскрывает определённость моментов и движет процесс вперёд к своему само-возврату. Такое отрицание лежит в сердце диалектического развития.

Отрицания бывают разные, например бывает разрушительное отрицание. Отрицание жука, если его раздавить. Или бывает отрицание полного не, это когда из математического множества вычитают элемент. Такие виды отрицаний мертвы, они не произведут развития и дальнейшего отрицания. В отличие от них, диалектическое отрицание остаётся в контексте отрицаемого, но в то же время производит на свет сущность высшего порядка. Например, пофиксить багу в коде.

Движение на более высокий уровень не должно приносить ничего из вне. Всё движение должно идти изнутри. Система логики Гегеля начинается из Ничто-Бытие-Становление, развивается в Количество-Качество-Меру, а далее возвышается до Абсолюта, ничего не приходит из вне, Абсолют уже скрывался в Ничто. В настоящей работе, заражение внешними идеями тоже было предотвращено, но развитие происходило за счёт отражения от реальных Бытия, а не от идеалистического Абсолюта.

Повествование Гегеля синтезируют конкретные триады отрицаний, а потом они рассматриваются через анализ моментов. Такой триадо-центричный подход не ложится в формулы, поэтому пришлось привлечь подход другого мыслителя. Мао Цзедун в своей работе “Относительно противоречия” подчеркнул роль противоположностей многочисленными примерами, что привело к противоположность-центричному результату, что прекрасным образом ложится в математику. Как мы увидим в дальнейшем, цитата Мао описывает появление кластера “внешние причины являются условием изменений, а внутренние причины — основой изменений, причём внешние причины действуют через внутренние”.

Вкратце, - как писал Ленин, - диалектику можно определить как учение о единстве противоположностей. Для самостоятельного изучения диалектики рекомендуем начать с основных законов из эпиграфов настоящей статьи, их можно найти в работе Сталина “Диалектический и исторический материализм”. 

## Особенное и субстанция
Переход количественных изменений в качественные
Закон диалектики

В первой фазе единичные отрезали кусочек пространства RD. Получилось абстрактное всеобщее. А для каждой из двух примыкающих точек это абсолютное всеобщее, определяющая их граница. Вторая фаза завершается, затем последует слияние в общность, и при следующем витке алгоритма в общности будет два кластера определённых границей RD.

Противоположности. В последующих перезапусках соединятся будут общности. И внешняя абстрактная всеобщность RD столкнётся с уже принятыми внутренними абсолютными всеобщими. Возникнет множество противоположностей внешнего и внутреннего:
 RD vs ki gi , где ki gi это количество и качество кластера i.
У каждого кластера есть такое отношение. Кластера состоят в общности. Отсутствие единства решается снятием трёх моментов: особенности, единичности и всеобщности.

Мера. Приводим внешнее к внутреннему количеству кластера, снимаем количественную особенность.
RDki vs  kigiki или RDki vs gi. 

Тотальность. Сумма собирает кластера и их отражения в единые:
RDK1ki vs  Kgi

Суждение. Получилось противостояние целого и частей. Наибольшее из сторон проявляет видимость общности и её к-к свойства: 
KG = max(RDK1ki;  Kgi)
Если побеждает новое, то граница переходит в общность и рождается кластер со свойствами KG=RDK1ki. Если же старое устоит, то граница игнорируется.
По сути, формула кластеризации проверяет может ли новое расстояние побороть старую структуру кластеров минус разбавление выбросами.

Перезапуск процесса. Для дальнейших противостояний новообразованный кластер понесёт G=RD avg1ki (усреднённую внутреннюю структуру), а с другой стороны 1/K. Чем сложнее структура кластера, тем сложнее будет его переформировать.

Выбросы. Кластера с ki=1 значительным образом усиливают RDK1ki , то есть шанс на кластеризацию.

Изолированность сторон соединения. Граница RD независимо влияет на обе стороны соединения. Возможны три исхода: образуются 2, 1, или 0 кластеров за одно соединение.

## Всеобщее и слияние
Отрицание отрицания
- Закон диалектики

В первой фазе пространство обосновало себя посредством общностей. Во второй фазе это внешнее обосновало две общности. Две части утвердили себя и свою видимость. Теперь они доступны друг другу для слияния. Их слияние порождает новое состояние всей системы. 

Перезапуск всего алгоритма с учётом новых общностей произведёт новое слияние. И так раз за разом отдельные будут увеличиваться, пока не останется одна единая общность. Развитие завершится концом кластеризации Друга.

Диалектика отрицания не знает конца. Придя к невозможности развития, произойдёт отрицание всей системы. Тик времени перезапустит саморазвитие пространства с перемещёнными точками. Фаза перемещения выводится из циклической симметрии фигур умозаключения(см Таблицу). Умозаключения это самые обычные отношения вещей(1 Фил Тетради). Роза есть растение; растение нуждается во влаге; следовательно, роза нуждается во влаге, т.е. роза, как единичное, смыкается через особенное, со всеобщим(НЛ т.3). 

Подобные смыкания моментов мы наблюдали в первой фазе: субъект-объект сошлись в одном отношении, и через эти отношения нашлось одно. То есть В-всеобщность объединила в Е-единичном, а из Е-единичных выделилось О-особенное. Результат опять имеет все три момента Е-В-О, но уже как особенное. Поэтому следующее умозаключение сдвигается в Е-О и О-В. Для третьей фазы останется О-В и В-Е, вернётся снятая направленность и точки сместятся в центры. Реализацию этого прогноза оставим на другой раз.

|  Фаза |  Среда отражения    |  Субъект |  Противо- положности          | Умозаключение |             |          |  Результат                |                    |
|-------|---------------------|----------|-------------------------------|:-------------:|:-----------:|:--------:|---------------------------|--------------------|
|       |                     |          |                               |      Мера     | Тотальность | Суждение |                           |                    |
|   1   |     Пространство    |   Точки  |   rd vs rd Субъект и объект   |      1/r      |     max     |    min   |    Соединение общностей   |     Граница RD     |
|       |          В          |     Е    |                               |       Е       |      В      |     О    |             О             |                    |
|   2   | Общность соединения | Кластеры | RD vs kg Внешнее и внутреннее |      1/k      |     sum     |    max   |       Кластеризация       |    Видимость KG    |
|       |          Е          |     О    |                               |       О       |      Е      |     В    |             В             |                    |
|   3   |       Кластер       | Общности |            KG vs nv           |      1/n      |     min     |    sum   | Притяжение и отталкивание | Центр NV (коорд-ы) |
|       |          О          |     В    |                               |       В       |      О      |     Е    |             Е             |                    |
 Проект схемы полного автомата. В - Всеобщность, О - Особенность, Е - Единичность(отдельность).

## Experiments

Practice is the criterion of Truth
Karl Marx, Theses On Feuerbach, 1845

см

## Заключение
О сколько нам открытий чудных
Готовят просвещенья дух
И Опыт, сын ошибок трудных,
И Гений, парадоксов друг,
И Случай, бог изобретатель
А.С. Пушкин, 1929

В работе был представлен новый подход к кластеризации, который: (i) предоставляет полную плотностную иерархию кластеров; (ii) не требует параметров; (iii) выбор метрики задаёт ближайшие расстояния, от которых зависит всё остальное. Философское повествование провело через диалектику и определило кластер. Эксперименты на различных датасетах показало SOTA результаты. Эта работа открывает широкие возможности для будущих исследований: оценка и улучшение производительности; открытия свойств диалектического расстояния и остового дерева; рождение перемещения точек в третьей фазе и построение квантово-качественной модели.

